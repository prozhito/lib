import e,{useState as n,useEffect as t,createContext as o,useContext as r,useLayoutEffect as a,useRef as i,useMemo as u,useCallback as l,useDebugValue as c}from"react";function s(e,n){void 0===n&&(n={});var t=n.insertAt;if(e&&"undefined"!=typeof document){var o=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css","top"===t&&o.firstChild?o.insertBefore(r,o.firstChild):o.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}}var d="-module_link__FuHfG";s(".-module_link__FuHfG {\n  text-decoration: none;\n  margin: 0;\n  padding: 0;\n}\n");var _=function(n){var t=n.url,o=n.children,r=n.className,a=void 0===r?"":r,i=n.target_blank,u=void 0===i||i;return null===t?null:t.startsWith("http")?e.createElement("a",{href:t,className:"".concat(d," ").concat(a),target:u?"_blank":"_self",rel:"noopener noreferrer"},o):e.createElement("a",{href:"/page/".concat(t),className:"".concat(d," ").concat(a)},o)},m={menu__desktop:"-module_menu__desktop__MuadG",menu__item:"-module_menu__item__tRytS",menu__link:"-module_menu__link__PZsRo",menu__dropdown:"-module_menu__dropdown__HtP8Z",menu__mobileContainer:"-module_menu__mobileContainer__bu8lH",menu__mobileContainer_open:"-module_menu__mobileContainer_open__5Zyri",menu__mobile:"-module_menu__mobile__u-65-",menu__mobile_secondLevel:"-module_menu__mobile_secondLevel__UuaUY"};s('.-module_menu__desktop__MuadG {\n  position: relative;\n  min-width: 345px;\n  height: 50px;\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n  gap: 40px;\n  margin: 0;\n  padding: 0;\n  list-style: none;\n}\n\n.-module_menu__item__tRytS {\n  height: 100%;\n  padding: 0;\n  margin: 0;\n  text-decoration: none;\n  color: var(--black-100);\n  display: flex;\n  align-items: center;\n  position: relative;\n}\n\n.-module_menu__link__PZsRo {\n  text-decoration: none;\n  color: var(--black-100);\n  height: 100%;\n  display: flex;\n  align-items: center;\n  padding: 0 10px;\n}\n\n.-module_menu__link__PZsRo:hover {\n  border-bottom: 1px solid var(--black-100);\n  margin-bottom: -1px;\n}\n\n.-module_menu__dropdown__HtP8Z {\n  position: absolute;\n  top: 50px;\n  right: 0;\n  height: 38px;\n  display: none;\n  opacity: 0;\n  padding: 8px 10px 0;\n  grid-auto-flow: column;\n  /*grid-auto-columns: minmax(120px, 1fr);*/\n  /*grid-auto-columns: 280px;*/\n  gap: 30px;\n  justify-items: center;\n  transition: all 0.3s linear;\n  z-index: 1;\n}\n\n/* хак для "студенческой практики */\n.-module_menu__item__tRytS:nth-last-child(1) .-module_menu__dropdown__HtP8Z li:nth-last-child(1) {\n  width: 222px;\n}\n\n.-module_menu__dropdown__HtP8Z:last-of-type {\n  padding-right: 0;\n}\n\n.-module_menu__item__tRytS:hover .-module_menu__dropdown__HtP8Z {\n  display: grid;\n  opacity: 1;\n}\n\n.-module_menu__mobileContainer__bu8lH {\n  position: absolute;\n  height: 0;\n  overflow: hidden;\n  background: var(--bg-orange-light);\n  top: 50px;\n  left: 0;\n  width: 100%;\n  transition: height 0.5s ease-in-out;\n}\n\n.-module_menu__mobileContainer_open__5Zyri {\n  height: calc(100vh - 50px);\n}\n\n.-module_menu__mobile__u-65- {\n  display: flex;\n  flex-direction: column;\n  margin: 24px 12px;\n  padding: 0;\n  width: calc(100% - 24px);\n}\n\n.-module_menu__mobile_secondLevel__UuaUY {\n  margin: 24px 12px;\n  column-width: 48%;\n  column-count: 2;\n  column-gap: 4%;\n  border-bottom: 1px solid var(--logo-gray);\n}\n\n.-module_menu__mobile__u-65- {\n  border-bottom: 1px solid var(--logo-gray);\n}\n\n@media screen and (max-width: 1023px) {\n  .-module_menu__desktop__MuadG {\n    min-width: 284px;\n  }\n}\n\n@media screen and (max-width: 767px) {\n  .-module_menu__desktop__MuadG {\n    display: none;\n  }\n\n  .-module_menu__item__tRytS {\n    padding: 0;\n    height: fit-content;\n  }\n\n  .-module_menu__item__tRytS:not(:last-of-type) {\n    margin-bottom: 28px;\n    margin-right: 0;\n  }\n\n  .-module_menu__item__tRytS:last-of-type {\n    padding-bottom: 24px;\n  }\n\n  .-module_menu__link__PZsRo {\n    padding: 0;\n  }\n}\n');var p=function(n){var t=n.desktop,o=n.open,r=n.main_menu,a=n.onClose,i=o?m.menu__mobile:"".concat(m.menu__mobile," ").concat(m.menu__mobile_open),u=o?"".concat(m.menu__mobileContainer," ").concat(m.menu__mobileContainer_open):m.menu__mobileContainer,l=t?m.menu__desktop:i,c=r.filter((function(e){return e.children}));return e.createElement("nav",{className:t?"":u},e.createElement("ul",{className:l},r.map((function(n,o){var r;return e.createElement("li",{className:m.menu__item,key:o,onClick:a},e.createElement(_,{url:null!==(r=n.page_slug||n.url)&&void 0!==r?r:"#",className:m.menu__link,target_blank:n.target_blank},n.title),t&&n.children&&n.children.length>0&&e.createElement("ul",{className:m.menu__dropdown},n.children.map((function(n,t){return e.createElement("li",{className:m.menu__dropdownItem,key:t,onClick:a},e.createElement(_,{url:n.page_slug||n.url,className:m.menu__link,target_blank:n.target_blank},n.title))}))))}))),!t&&c.length>0&&e.createElement("ul",{className:"".concat(c.length<=3?l:m.menu__mobile_secondLevel)},c.map((function(n){var t;return null===(t=n.children)||void 0===t?void 0:t.map((function(t,o){var r;return e.createElement("li",{className:m.menu__item,key:o,onClick:a},e.createElement(_,{url:null!==(r=t.page_slug||t.url)&&void 0!==r?r:"#",className:m.menu__link,target_blank:n.target_blank},t.title))}))}))))},f="-module_header__ARLMb",h="-module_header_theme_dark__-V06O",g="-module_header_theme_white__ZVFHq",v="-module_header__container__MmNV2",w="-module_menu__QXT6p",y="-module_menu__button__6-8sF",b="-module_header__links__1j1Nu",x="-module_link__g1dOQ",E="-module_header__logo__IhsBr",k="-module_header__eusp__OG3Nq";s(".-module_header__ARLMb {\n  min-width: 320px;\n  position: relative;\n  background-color: var(--bg-orange-lightest);\n  z-index: 9;\n  min-height: 50px;\n}\n\n.-module_header_theme_dark__-V06O {\n  background-color: var(--bg-orange-light);\n}\n.-module_header_theme_white__ZVFHq {\n  background-color: var(--bg-white);\n}\n\n.-module_header_theme_white__ZVFHq nav {\n  background-color: var(--bg-white);\n}\n\n@media screen and (max-width: 767px) {\n  .-module_header__ARLMb {\n    position: sticky;\n    top: 0;\n    font-size: 14px;\n  }\n}\n\n.-module_header__container__MmNV2 {\n  max-width: calc(min(1400px, 100% - 40px));\n  height: 50px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  column-gap: 1rem;\n  border-bottom: 1px var(--bg-orange-light) solid;\n  margin: 0 auto;\n  font: 20px/1.3 var(--font-family-pt-sans);\n}\n\n@media screen and (max-width: 1023px) {\n  .-module_header__container__MmNV2 {\n    max-width: calc(100% - 32px);\n    font: 14px/18px var(--font-family-pt-sans);\n  }\n}\n\n@media screen and (max-width: 767px) {\n  .-module_header__container__MmNV2 {\n    max-width: calc(100% - 24px);\n    width: 100vw;\n    height: 48px;\n  }\n}\n\n.-module_menu__QXT6p {\n  color: var(--black-100);\n}\n\n.-module_menu__button__6-8sF {\n  margin-left: auto;\n  outline: none;\n  border: none;\n  background-color: transparent;\n  cursor: pointer;\n}\n.-module_menu__button__6-8sF:focus {\n  outline: none;\n}\n.-module_menu__button__6-8sF:hover {\n  opacity: 0.3;\n  transition: opacity 0.3s linear 0s;\n}\n\n@media screen and (min-width: 768px) {\n  .-module_menu__button__6-8sF {\n    display: none;\n  }\n}\n\n.-module_header__links__1j1Nu {\n  display: flex;\n  gap: 20px;\n  height: 24px;\n}\n\n.-module_link__g1dOQ:hover {\n  /*opacity: .3;*/\n  transition: opacity 0.3s linear 0s;\n}\n\n.-module_header__logo__IhsBr {\n  max-width: 156px;\n  max-height: 30px;\n}\n\n.-module_header__eusp__OG3Nq {\n  max-width: 98px;\n  background: transparent;\n}\n");var S="https://archive.prozhito.org/",O=function(o){var r=o.logos,a=o.main_menu,i=n(!1),u=i[0],l=i[1],c=function(e){var o=function(e){return"undefined"!=typeof window&&window.matchMedia(e).matches},r=n(o(e)),a=r[0],i=r[1];function u(){i(o(e))}return t((function(){var n=window.matchMedia(e);return u(),n.addEventListener("change",u),function(){return n.removeEventListener("change",u)}}),[e]),a}("(min-width: 768px)"),s=function(){var e;return"undefined"!=typeof window?{pathname:(null===(e=window.location)||void 0===e?void 0:e.pathname)||"/"}:{pathname:"/"}}(),d=u?{img:"data:image/svg+xml,%3Csvg%20width%3D%2218%22%20height%3D%2218%22%20viewBox%3D%220%200%2018%2018%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Cpath%20d%3D%22M17.354%201.354L16.646%200.645996L9%208.293L1.354%200.645996L0.645996%201.354L8.293%209L0.645996%2016.646L1.354%2017.354L9%209.707L16.646%2017.354L17.354%2016.646L9.707%209L17.354%201.354Z%22%20fill%3D%22%23323232%22%2F%3E%3C%2Fsvg%3E",alt:"Закрыть"}:{img:"data:image/svg+xml,%3Csvg%20width%3D%2216%22%20height%3D%2214%22%20viewBox%3D%220%200%2016%2014%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Cpath%20d%3D%22M0%200V1H16V0H0ZM0%207.5H16V6.5H0V7.5ZM0%2014H16V13H0V14Z%22%20fill%3D%22%23323232%22%2F%3E%3C%2Fsvg%3E",alt:"Открыть"},_=function(){l((function(e){return!e}))};return e.createElement("header",{className:"".concat(!c&&u?"".concat(f," ").concat(h):f," ").concat("/"!==s.pathname?g:null)},e.createElement("div",{className:"".concat(v," ").concat(w)},e.createElement("div",{className:b},r.map((function(n,t){var o,r;return 0===t?e.createElement("a",{href:"/",className:x,key:t},e.createElement("img",{width:300,height:200,src:S+n.icon,alt:null!==(o=n.alt_text)&&void 0!==o?o:"Logo",className:E})):e.createElement("a",{href:"https://eusp.org/",target:"_blank",rel:"noopener noreferrer",className:x,key:t},e.createElement("img",{src:S+n.icon,alt:null!==(r=n.alt_text)&&void 0!==r?r:"Logo",className:k}))}))),e.createElement(p,{desktop:c,open:u,main_menu:a,onClose:_}),!c&&e.createElement("button",{type:"button",className:y,onClick:_},e.createElement("img",{alt:d.alt,src:d.img}))))};function L(e,n,t,o){return new(t||(t=Promise))((function(r,a){function i(e){try{l(o.next(e))}catch(e){a(e)}}function u(e){try{l(o.throw(e))}catch(e){a(e)}}function l(e){var n;e.done?r(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(i,u)}l((o=o.apply(e,n||[])).next())}))}function R(e,n){var t,o,r,a,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(u){return function(l){return function(u){if(t)throw new TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(i=0)),i;)try{if(t=1,o&&(r=2&u[0]?o.return:u[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,u[1])).done)return r;switch(o=0,r&&(u=[2&u[0],r.value]),u[0]){case 0:case 1:r=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,o=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(!(r=i.trys,(r=r.length>0&&r[r.length-1])||6!==u[0]&&2!==u[0])){i=0;continue}if(3===u[0]&&(!r||u[1]>r[0]&&u[1]<r[3])){i.label=u[1];break}if(6===u[0]&&i.label<r[1]){i.label=r[1],r=u;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(u);break}r[2]&&i.ops.pop(),i.trys.pop();continue}u=n.call(e,i)}catch(e){u=[6,e],o=0}finally{t=r=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,l])}}}"function"==typeof SuppressedError&&SuppressedError;var T,C={exports:{}},D={};var N,V={};
/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */"production"===process.env.NODE_ENV?C.exports=function(){if(N)return V;N=1;var n=e,t="function"==typeof Object.is?Object.is:function(e,n){return e===n&&(0!==e||1/e==1/n)||e!=e&&n!=n},o=n.useState,r=n.useEffect,a=n.useLayoutEffect,i=n.useDebugValue;function u(e){var n=e.getSnapshot;e=e.value;try{var o=n();return!t(e,o)}catch(e){return!0}}var l="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,n){return n()}:function(e,n){var t=n(),l=o({inst:{value:t,getSnapshot:n}}),c=l[0].inst,s=l[1];return a((function(){c.value=t,c.getSnapshot=n,u(c)&&s({inst:c})}),[e,t,n]),r((function(){return u(c)&&s({inst:c}),e((function(){u(c)&&s({inst:c})}))}),[e]),i(t),t};return V.useSyncExternalStore=void 0!==n.useSyncExternalStore?n.useSyncExternalStore:l,V}():C.exports=(T||(T=1,"production"!==process.env.NODE_ENV&&function(){"undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(new Error);var n=e,t=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function o(e){for(var n=arguments.length,o=new Array(n>1?n-1:0),r=1;r<n;r++)o[r-1]=arguments[r];!function(e,n,o){var r=t.ReactDebugCurrentFrame.getStackAddendum();""!==r&&(n+="%s",o=o.concat([r]));var a=o.map((function(e){return String(e)}));a.unshift("Warning: "+n),Function.prototype.apply.call(console[e],console,a)}("error",e,o)}var r="function"==typeof Object.is?Object.is:function(e,n){return e===n&&(0!==e||1/e==1/n)||e!=e&&n!=n},a=n.useState,i=n.useEffect,u=n.useLayoutEffect,l=n.useDebugValue,c=!1,s=!1;function d(e){var n=e.getSnapshot,t=e.value;try{var o=n();return!r(t,o)}catch(e){return!0}}var _="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,n,t){return n()}:function(e,t,_){c||void 0!==n.startTransition&&(c=!0,o("You are using an outdated, pre-release alpha of React 18 that does not support useSyncExternalStore. The use-sync-external-store shim will not work correctly. Upgrade to a newer pre-release."));var m=t();if(!s){var p=t();r(m,p)||(o("The result of getSnapshot should be cached to avoid an infinite loop"),s=!0)}var f=a({inst:{value:m,getSnapshot:t}}),h=f[0].inst,g=f[1];return u((function(){h.value=m,h.getSnapshot=t,d(h)&&g({inst:h})}),[e,m,t]),i((function(){return d(h)&&g({inst:h}),e((function(){d(h)&&g({inst:h})}))}),[e]),l(m),m},m=void 0!==n.useSyncExternalStore?n.useSyncExternalStore:_;D.useSyncExternalStore=m,"undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(new Error)}()),D);var F=C.exports;const A=()=>{},M=A(),H=Object,I=e=>e===M,P=e=>"function"==typeof e,Z=(e,n)=>({...e,...n}),G=new WeakMap;let j=0;const B=e=>{const n=typeof e,t=e&&e.constructor,o=t==Date;let r,a;if(H(e)!==e||o||t==RegExp)r=o?e.toJSON():"symbol"==n?e.toString():"string"==n?JSON.stringify(e):""+e;else{if(r=G.get(e),r)return r;if(r=++j+"~",G.set(e,r),t==Array){for(r="@",a=0;a<e.length;a++)r+=B(e[a])+",";G.set(e,r)}if(t==H){r="#";const n=H.keys(e).sort();for(;!I(a=n.pop());)I(e[a])||(r+=a+":"+B(e[a])+",");G.set(e,r)}}return r},W=new WeakMap,U={},q={},K="undefined",z=typeof window!=K,Q=typeof document!=K,Y=(e,n)=>{const t=W.get(e);return[()=>!I(n)&&e.get(n)||U,o=>{if(!I(n)){const r=e.get(n);n in q||(q[n]=r),t[5](n,Z(r,o),r||U)}},t[6],()=>!I(n)&&n in q?q[n]:!I(n)&&e.get(n)||U]};let $=!0;const[J,X]=z&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[A,A],ee={isOnline:()=>$,isVisible:()=>{const e=Q&&document.visibilityState;return I(e)||"hidden"!==e}},ne={initFocus:e=>(Q&&document.addEventListener("visibilitychange",e),J("focus",e),()=>{Q&&document.removeEventListener("visibilitychange",e),X("focus",e)}),initReconnect:e=>{const n=()=>{$=!0,e()},t=()=>{$=!1};return J("online",n),J("offline",t),()=>{X("online",n),X("offline",t)}}},te=!e.useId,oe=!z||"Deno"in window,re=e=>z&&typeof window.requestAnimationFrame!=K?window.requestAnimationFrame(e):setTimeout(e,1),ae=oe?t:a,ie="undefined"!=typeof navigator&&navigator.connection,ue=!oe&&ie&&(["slow-2g","2g"].includes(ie.effectiveType)||ie.saveData),le=e=>{if(P(e))try{e=e()}catch(n){e=""}const n=e;return[e="string"==typeof e?e:(Array.isArray(e)?e.length:e)?B(e):"",n]};let ce=0;const se=()=>++ce;var de=3,_e=0,me=2,pe=1;async function fe(...e){const[n,t,o,r]=e,a=Z({populateCache:!0,throwOnError:!0},"boolean"==typeof r?{revalidate:r}:r||{});let i=a.populateCache;const u=a.rollbackOnError;let l=a.optimisticData;const c=!1!==a.revalidate,s=a.throwOnError;if(P(t)){const e=t,o=[],r=n.keys();for(const t of r)!/^\$(inf|sub)\$/.test(t)&&e(n.get(t)._k)&&o.push(t);return Promise.all(o.map(d))}return d(t);async function d(t){const[r]=le(t);if(!r)return;const[a,d]=Y(n,r),[_,m,p,f]=W.get(n),h=()=>{const e=_[r];return c&&(delete p[r],delete f[r],e&&e[0])?e[0](2).then((()=>a().data)):a().data};if(e.length<3)return h();let g,v=o;const w=se();m[r]=[w,0];const y=!I(l),b=a(),x=b.data,E=b._c,k=I(E)?x:E;if(y&&(l=P(l)?l(k,x):l,d({data:l,_c:k})),P(v))try{v=v(k)}catch(e){g=e}if(v&&P(v.then)){if(v=await v.catch((e=>{g=e})),w!==m[r][0]){if(g)throw g;return v}g&&y&&(e=>"function"==typeof u?u(e):!1!==u)(g)&&(i=!0,d({data:k,_c:M}))}if(i&&!g)if(P(i)){const e=i(v,k);d({data:e,error:M,_c:M})}else d({data:v,error:M,_c:M});if(m[r][1]=se(),Promise.resolve(h()).then((()=>{d({_c:M})})),!g)return v;if(s)throw g}}const he=(e,n)=>{for(const t in e)e[t][0]&&e[t][0](n)},[ge,ve]=((e,n)=>{if(!W.has(e)){const t=Z(ne,n),o={},r=fe.bind(M,e);let a=A;const i={},u=(e,n)=>{const t=i[e]||[];return i[e]=t,t.push(n),()=>t.splice(t.indexOf(n),1)},l=(n,t,o)=>{e.set(n,t);const r=i[n];if(r)for(const e of r)e(t,o)},c=()=>{if(!W.has(e)&&(W.set(e,[o,{},{},{},r,l,u]),!oe)){const n=t.initFocus(setTimeout.bind(M,he.bind(M,o,0))),r=t.initReconnect(setTimeout.bind(M,he.bind(M,o,1)));a=()=>{n&&n(),r&&r(),W.delete(e)}}};return c(),[e,r,c,a]}return[e,W.get(e)[4]]})(new Map),we=Z({onLoadingSlow:A,onSuccess:A,onError:A,onErrorRetry:(e,n,t,o,r)=>{const a=t.errorRetryCount,i=r.retryCount,u=~~((Math.random()+.5)*(1<<(i<8?i:8)))*t.errorRetryInterval;!I(a)&&i>a||setTimeout(o,u,r)},onDiscarded:A,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:ue?1e4:5e3,focusThrottleInterval:5e3,dedupingInterval:2e3,loadingTimeout:ue?5e3:3e3,compare:(e,n)=>B(e)==B(n),isPaused:()=>!1,cache:ge,mutate:ve,fallback:{}},ee),ye=o({}),be=z&&window.__SWR_DEVTOOLS_USE__,xe=be?window.__SWR_DEVTOOLS_USE__:[],Ee=xe.concat((e=>(n,t,o)=>e(n,t&&((...e)=>{const[o]=le(n),[,,,r]=W.get(ge);if(o.startsWith("$inf$"))return t(...e);const a=r[o];return I(a)?t(...e):(delete r[o],a)}),o)));be&&(window.__SWR_DEVTOOLS_REACT__=e);const ke=e.use||(e=>{if("pending"===e.status)throw e;if("fulfilled"===e.status)return e.value;throw"rejected"===e.status?e.reason:(e.status="pending",e.then((n=>{e.status="fulfilled",e.value=n}),(n=>{e.status="rejected",e.reason=n})),e)}),Se={dedupe:!0},Oe=(Le=(e,n,t)=>{const{cache:o,compare:r,suspense:a,fallbackData:s,revalidateOnMount:d,revalidateIfStale:_,refreshInterval:m,refreshWhenHidden:p,refreshWhenOffline:f,keepPreviousData:h}=t,[g,v,w,y]=W.get(o),[b,x]=le(e),E=i(!1),k=i(!1),S=i(b),O=i(n),L=i(t),R=()=>L.current,T=()=>R().isVisible()&&R().isOnline(),[C,D,N,V]=Y(o,b),A=i({}).current,H=I(s)?t.fallback[b]:s,G=(e,n)=>{for(const t in A){const o=t;if("data"===o){if(!r(e[o],n[o])){if(!I(e[o]))return!1;if(!r(J,n[o]))return!1}}else if(n[o]!==e[o])return!1}return!0},j=u((()=>{const e=!!b&&!!n&&(I(d)?!R().isPaused()&&!a&&(!!I(_)||_):d),t=n=>{const t=Z(n);return delete t._k,e?{isValidating:!0,isLoading:!0,...t}:t},o=C(),r=V(),i=t(o),u=o===r?i:t(r);let l=i;return[()=>{const e=t(C());return G(e,l)?(l.data=e.data,l.isLoading=e.isLoading,l.isValidating=e.isValidating,l.error=e.error,l):(l=e,e)},()=>u]}),[o,b]),B=F.useSyncExternalStore(l((e=>N(b,((n,t)=>{G(t,n)||e()}))),[o,b]),j[0],j[1]),U=!E.current,q=g[b]&&g[b].length>0,K=B.data,z=I(K)?H:K,Q=B.error,$=i(z),J=h?I(K)?$.current:K:z,X=!(q&&!I(Q))&&(U&&!I(d)?d:!R().isPaused()&&(a?!I(z)&&_:I(z)||_)),ee=!!(b&&n&&U&&X),ne=I(B.isValidating)?ee:B.isValidating,ie=I(B.isLoading)?ee:B.isLoading,ue=l((async e=>{const n=O.current;if(!b||!n||k.current||R().isPaused())return!1;let o,a,i=!0;const u=e||{},l=!w[b]||!u.dedupe,c=()=>te?!k.current&&b===S.current&&E.current:b===S.current,s={isValidating:!1,isLoading:!1},d=()=>{D(s)},_=()=>{const e=w[b];e&&e[1]===a&&delete w[b]},m={isValidating:!0};I(C().data)&&(m.isLoading=!0);try{if(l&&(D(m),t.loadingTimeout&&I(C().data)&&setTimeout((()=>{i&&c()&&R().onLoadingSlow(b,t)}),t.loadingTimeout),w[b]=[n(x),se()]),[o,a]=w[b],o=await o,l&&setTimeout(_,t.dedupingInterval),!w[b]||w[b][1]!==a)return l&&c()&&R().onDiscarded(b),!1;s.error=M;const e=v[b];if(!I(e)&&(a<=e[0]||a<=e[1]||0===e[1]))return d(),l&&c()&&R().onDiscarded(b),!1;const u=C().data;s.data=r(u,o)?u:o,l&&c()&&R().onSuccess(o,b,t)}catch(e){_();const n=R(),{shouldRetryOnError:t}=n;n.isPaused()||(s.error=e,l&&c()&&(n.onError(e,b,n),(!0===t||P(t)&&t(e))&&T()&&n.onErrorRetry(e,b,n,(e=>{const n=g[b];n&&n[0]&&n[0](de,e)}),{retryCount:(u.retryCount||0)+1,dedupe:!0})))}return i=!1,d(),!0}),[b,o]),ce=l(((...e)=>fe(o,S.current,...e)),[]);if(ae((()=>{O.current=n,L.current=t,I(K)||($.current=K)})),ae((()=>{if(!b)return;const e=ue.bind(M,Se);let n=0;const t=((e,n,t)=>{const o=n[e]||(n[e]=[]);return o.push(t),()=>{const e=o.indexOf(t);e>=0&&(o[e]=o[o.length-1],o.pop())}})(b,g,((t,o={})=>{if(t==_e){const t=Date.now();R().revalidateOnFocus&&t>n&&T()&&(n=t+R().focusThrottleInterval,e())}else if(t==pe)R().revalidateOnReconnect&&T()&&e();else{if(t==me)return ue();if(t==de)return ue(o)}}));return k.current=!1,S.current=b,E.current=!0,D({_k:x}),X&&(I(z)||oe?e():re(e)),()=>{k.current=!0,t()}}),[b]),ae((()=>{let e;function n(){const n=P(m)?m(C().data):m;n&&-1!==e&&(e=setTimeout(t,n))}function t(){C().error||!p&&!R().isVisible()||!f&&!R().isOnline()?n():ue(Se).then(n)}return n(),()=>{e&&(clearTimeout(e),e=-1)}}),[m,p,f,b]),c(J),a&&I(z)&&b){if(!te&&oe)throw new Error("Fallback data is required when using suspense in SSR.");O.current=n,L.current=t,k.current=!1;const e=y[b];if(!I(e)){const n=ce(e);ke(n)}if(!I(Q))throw Q;{const e=ue(Se);I(J)||(e.status="fulfilled",e.value=!0),ke(e)}}return{mutate:ce,get data(){return A.data=!0,J},get error(){return A.error=!0,Q},get isValidating(){return A.isValidating=!0,ne},get isLoading(){return A.isLoading=!0,ie}}},function(...e){const n=Z(we,r(ye)),[t,o,a]=(e=>P(e[1])?[e[0],e[1],e[2]||{}]:[e[0],null,(null===e[1]?e[2]:e[1])||{}])(e),i=((e,n)=>{const t=Z(e,n);if(n){const{use:o,fallback:r}=e,{use:a,fallback:i}=n;o&&a&&(t.use=o.concat(a)),r&&i&&(t.fallback=Z(r,i))}return t})(n,a);let u=Le;const{use:l}=i,c=(l||[]).concat(Ee);for(let e=c.length;e--;)u=c[e](u);return u(t,o||i.fetcher||null,i)});var Le;function Re(e,n){return L(this,void 0,void 0,(function(){return R(this,(function(t){switch(t.label){case 0:return[4,fetch(e,n)];case 1:return[2,t.sent().json()]}}))}))}function Te(){var n=Oe("https://archive.prozhito.org/api/landing/context/",Re),o=n.data,r=n.error,a=n.isLoading;return t((function(){if(!a&&(r||!o))throw new Error("500")}),[a]),o?e.createElement(O,{logos:o.logos,main_menu:o.main_menu}):e.createElement("header",null)}export{Te as ProzhitoHeader};
//# sourceMappingURL=index.js.map
