import e,{useState as n,useEffect as t,createContext as r,useContext as o,useLayoutEffect as a,useRef as i,useMemo as l,useCallback as u,useDebugValue as d}from"react";function c(e,n){void 0===n&&(n={});var t=n.insertAt;if(e&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===t&&r.firstChild?r.insertBefore(o,r.firstChild):r.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}}var s="external-link-module_link__hWGYR";c(".external-link-module_link__hWGYR {\n  text-decoration: none;\n  margin: 0;\n  padding: 0;\n}\n");var _=function(n){var t=n.url,r=n.children,o=n.className,a=void 0===o?"":o,i=n.target_blank,l=void 0===i||i;return null===t?null:t.startsWith("http")?e.createElement("a",{href:t,className:"".concat(s," ").concat(a),target:l?"_blank":"_self",rel:"noopener noreferrer"},r):e.createElement("a",{href:"/page/".concat(t),className:"".concat(s," ").concat(a)},r)},m={menu__desktop:"headerNav-module_menu__desktop__W7aPN",menu__item:"headerNav-module_menu__item__yoFkY",menu__link:"headerNav-module_menu__link__1xRgq",menu__dropdown:"headerNav-module_menu__dropdown__c-GAL",menu__mobileContainer:"headerNav-module_menu__mobileContainer__pgbsW",menu__mobileContainer_open:"headerNav-module_menu__mobileContainer_open__TWARe",menu__mobile:"headerNav-module_menu__mobile__y1bwQ",menu__mobile_secondLevel:"headerNav-module_menu__mobile_secondLevel__olaJq"};c('.headerNav-module_menu__desktop__W7aPN {\n  position: relative;\n  min-width: 345px;\n  height: 50px;\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n  gap: 40px;\n  margin: 0;\n  padding: 0;\n  list-style: none;\n}\n\n.headerNav-module_menu__item__yoFkY {\n  height: 100%;\n  padding: 0;\n  margin: 0;\n  text-decoration: none;\n  color: var(--black-100);\n  display: flex;\n  align-items: center;\n  position: relative;\n}\n\n.headerNav-module_menu__link__1xRgq {\n  text-decoration: none;\n  color: var(--black-100);\n  height: 100%;\n  display: flex;\n  align-items: center;\n  padding: 0 10px;\n}\n\n.headerNav-module_menu__link__1xRgq:hover {\n  border-bottom: 1px solid var(--black-100);\n  margin-bottom: -1px;\n}\n\n.headerNav-module_menu__dropdown__c-GAL {\n  position: absolute;\n  top: 50px;\n  right: 0;\n  height: 38px;\n  display: none;\n  opacity: 0;\n  padding: 8px 10px 0;\n  grid-auto-flow: column;\n  /*grid-auto-columns: minmax(120px, 1fr);*/\n  /*grid-auto-columns: 280px;*/\n  gap: 30px;\n  justify-items: center;\n  transition: all 0.3s linear;\n  z-index: 1;\n}\n\n/* хак для "студенческой практики */\n.headerNav-module_menu__item__yoFkY:nth-last-child(1) .headerNav-module_menu__dropdown__c-GAL li:nth-last-child(1) {\n  width: 222px;\n}\n\n.headerNav-module_menu__dropdown__c-GAL:last-of-type {\n  padding-right: 0;\n}\n\n.headerNav-module_menu__item__yoFkY:hover .headerNav-module_menu__dropdown__c-GAL {\n  display: grid;\n  opacity: 1;\n}\n\n.headerNav-module_menu__mobileContainer__pgbsW {\n  position: absolute;\n  height: 0;\n  overflow: hidden;\n  background: var(--bg-orange-light);\n  top: 50px;\n  left: 0;\n  width: 100%;\n  transition: height 0.5s ease-in-out;\n}\n\n.headerNav-module_menu__mobileContainer_open__TWARe {\n  height: calc(100vh - 50px);\n}\n\n.headerNav-module_menu__mobile__y1bwQ {\n  display: flex;\n  flex-direction: column;\n  margin: 24px 12px;\n  padding: 0;\n  width: calc(100% - 24px);\n}\n\n.headerNav-module_menu__mobile_secondLevel__olaJq {\n  margin: 24px 12px;\n  column-width: 48%;\n  column-count: 2;\n  column-gap: 4%;\n  border-bottom: 1px solid var(--logo-gray);\n}\n\n.headerNav-module_menu__mobile__y1bwQ {\n  border-bottom: 1px solid var(--logo-gray);\n}\n\n@media screen and (max-width: 1023px) {\n  .headerNav-module_menu__desktop__W7aPN {\n    min-width: 284px;\n  }\n}\n\n@media screen and (max-width: 767px) {\n  .headerNav-module_menu__desktop__W7aPN {\n    display: none;\n  }\n\n  .headerNav-module_menu__item__yoFkY {\n    padding: 0;\n    height: fit-content;\n  }\n\n  .headerNav-module_menu__item__yoFkY:not(:last-of-type) {\n    margin-bottom: 28px;\n    margin-right: 0;\n  }\n\n  .headerNav-module_menu__item__yoFkY:last-of-type {\n    padding-bottom: 24px;\n  }\n\n  .headerNav-module_menu__link__1xRgq {\n    padding: 0;\n  }\n}\n');var h=function(n){var t=n.desktop,r=n.open,o=n.main_menu,a=n.onClose,i=r?m.menu__mobile:"".concat(m.menu__mobile," ").concat(m.menu__mobile_open),l=r?"".concat(m.menu__mobileContainer," ").concat(m.menu__mobileContainer_open):m.menu__mobileContainer,u=t?m.menu__desktop:i,d=o.filter((function(e){return e.children}));return e.createElement("nav",{className:"".concat(t?"":l," header__nav")},e.createElement("ul",{className:u},o.map((function(n,r){var o;return e.createElement("li",{className:m.menu__item,key:r,onClick:a},e.createElement(_,{url:null!==(o=n.page_slug||n.url)&&void 0!==o?o:"#",className:m.menu__link,target_blank:n.target_blank},n.title),t&&n.children&&n.children.length>0&&e.createElement("ul",{className:m.menu__dropdown},n.children.map((function(n,t){return e.createElement("li",{className:m.menu__dropdownItem,key:t,onClick:a},e.createElement(_,{url:n.page_slug||n.url,className:m.menu__link,target_blank:n.target_blank},n.title))}))))}))),!t&&d.length>0&&e.createElement("ul",{className:"".concat(d.length<=3?u:m.menu__mobile_secondLevel)},d.map((function(n){var t;return null===(t=n.children)||void 0===t?void 0:t.map((function(t,r){var o;return e.createElement("li",{className:m.menu__item,key:r,onClick:a},e.createElement(_,{url:null!==(o=t.page_slug||t.url)&&void 0!==o?o:"#",className:m.menu__link,target_blank:n.target_blank},t.title))}))}))))},p="header-module_header__Tv17b",f="header-module_header_theme_dark__Ayzki",g="header-module_header_theme_white__PrzvC",v="header-module_header__container__Zrvaf",w="header-module_menu__jrOdJ",y="header-module_menu__button__us8Mw",b="header-module_header__links__CPECR",x="header-module_link__LCb6T",E="header-module_header__logo__Gr7PH",k="header-module_header__eusp__vEB48";c(".header-module_header__Tv17b {\n  min-width: 320px;\n  position: relative;\n  background-color: var(--bg-orange-lightest);\n  z-index: 9;\n  min-height: 50px;\n}\n\n.header-module_header_theme_dark__Ayzki {\n  background-color: var(--bg-orange-light);\n}\n.header-module_header_theme_white__PrzvC {\n  background-color: var(--bg-white);\n}\n\n.header-module_header_theme_white__PrzvC nav {\n  background-color: var(--bg-white);\n}\n\n@media screen and (max-width: 767px) {\n  .header-module_header__Tv17b {\n    position: sticky;\n    top: 0;\n    font-size: 14px;\n  }\n}\n\n.header-module_header__container__Zrvaf {\n  max-width: calc(min(1400px, 100% - 40px));\n  height: 50px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  border-bottom: 1px var(--bg-orange-light) solid;\n  margin: 0 auto;\n  font: 20px/1.3 var(--font-family-pt-sans);\n}\n\n@media screen and (max-width: 1023px) {\n  .header-module_header__container__Zrvaf {\n    max-width: calc(100% - 32px);\n    font: 14px/18px var(--font-family-pt-sans);\n  }\n}\n\n@media screen and (max-width: 767px) {\n  .header-module_header__container__Zrvaf {\n    max-width: calc(100% - 24px);\n    width: 100vw;\n    height: 48px;\n  }\n}\n\n.header-module_menu__jrOdJ {\n  color: var(--black-100);\n}\n\n.header-module_menu__button__us8Mw {\n  margin-left: auto;\n  outline: none;\n  border: none;\n  background-color: transparent;\n}\n.header-module_menu__button__us8Mw:focus {\n  outline: none;\n}\n.header-module_menu__button__us8Mw:hover {\n  opacity: 0.3;\n  transition: opacity 0.3s linear 0s;\n}\n\n@media screen and (min-width: 768px) {\n  .header-module_menu__button__us8Mw {\n    display: none;\n  }\n}\n\n.header-module_header__links__CPECR {\n  display: flex;\n  gap: 20px;\n  height: 24px;\n}\n\n.header-module_link__LCb6T:hover {\n  /*opacity: .3;*/\n  transition: opacity 0.3s linear 0s;\n}\n\n.header-module_header__logo__Gr7PH {\n  max-width: 156px;\n  max-height: 30px;\n}\n\n.header-module_header__eusp__vEB48 {\n  max-width: 98px;\n  background: transparent;\n}\n");var L="https://archive.prozhito.org/",O=function(r){var o=r.logos,a=r.main_menu,i=n(!1),l=i[0],u=i[1],d=function(e){var r=function(e){return"undefined"!=typeof window&&window.matchMedia(e).matches},o=n(r(e)),a=o[0],i=o[1];function l(){i(r(e))}return t((function(){var n=window.matchMedia(e);return l(),n.addEventListener("change",l),function(){return n.removeEventListener("change",l)}}),[e]),a}("(min-width: 768px)"),c=function(){var e;return"undefined"!=typeof window?{pathname:(null===(e=window.location)||void 0===e?void 0:e.pathname)||"/"}:{pathname:"/"}}(),s=l?{img:"data:image/svg+xml,%3Csvg%20width%3D%2218%22%20height%3D%2218%22%20viewBox%3D%220%200%2018%2018%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Cpath%20d%3D%22M17.354%201.354L16.646%200.645996L9%208.293L1.354%200.645996L0.645996%201.354L8.293%209L0.645996%2016.646L1.354%2017.354L9%209.707L16.646%2017.354L17.354%2016.646L9.707%209L17.354%201.354Z%22%20fill%3D%22%23323232%22%2F%3E%3C%2Fsvg%3E",alt:"Закрыть"}:{img:"data:image/svg+xml,%3Csvg%20width%3D%2216%22%20height%3D%2214%22%20viewBox%3D%220%200%2016%2014%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Cpath%20d%3D%22M0%200V1H16V0H0ZM0%207.5H16V6.5H0V7.5ZM0%2014H16V13H0V14Z%22%20fill%3D%22%23323232%22%2F%3E%3C%2Fsvg%3E",alt:"Открыть"},_=function(){u((function(e){return!e}))};return e.createElement("header",{className:"".concat(!d&&l?"".concat(p," ").concat(f):p," ").concat("/"!==c.pathname?g:null)},e.createElement("div",{className:"".concat(v," ").concat(w)},e.createElement("div",{className:b},o.map((function(n,t){var r,o;return 0===t?e.createElement("a",{href:"/",className:x,key:t},e.createElement("img",{width:300,height:200,src:L+n.icon,alt:null!==(r=n.alt_text)&&void 0!==r?r:"Logo",className:E})):e.createElement("a",{href:"https://eusp.org/",target:"_blank",rel:"noopener noreferrer",className:x,key:t},e.createElement("img",{src:L+n.icon,alt:null!==(o=n.alt_text)&&void 0!==o?o:"Logo",className:k}))}))),e.createElement(h,{desktop:d,open:l,main_menu:a,onClose:_}),!d&&e.createElement("button",{type:"button",className:y,onClick:_},e.createElement("img",{alt:s.alt,src:s.img}))))};function S(e,n,t,r){return new(t||(t=Promise))((function(o,a){function i(e){try{u(r.next(e))}catch(e){a(e)}}function l(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(i,l)}u((r=r.apply(e,n||[])).next())}))}function N(e,n){var t,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(l){return function(u){return function(l){if(t)throw new TypeError("Generator is already executing.");for(;a&&(a=0,l[0]&&(i=0)),i;)try{if(t=1,r&&(o=2&l[0]?r.return:l[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,l[1])).done)return o;switch(r=0,o&&(l=[2&l[0],o.value]),l[0]){case 0:case 1:o=l;break;case 4:return i.label++,{value:l[1],done:!1};case 5:i.label++,r=l[1],l=[0];continue;case 7:l=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==l[0]&&2!==l[0])){i=0;continue}if(3===l[0]&&(!o||l[1]>o[0]&&l[1]<o[3])){i.label=l[1];break}if(6===l[0]&&i.label<o[1]){i.label=o[1],o=l;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(l);break}o[2]&&i.ops.pop(),i.trys.pop();continue}l=n.call(e,i)}catch(e){l=[6,e],r=0}finally{t=o=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,u])}}}"function"==typeof SuppressedError&&SuppressedError;var C,T={exports:{}},D={};var R,A={};
/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */"production"===process.env.NODE_ENV?T.exports=function(){if(R)return A;R=1;var n=e,t="function"==typeof Object.is?Object.is:function(e,n){return e===n&&(0!==e||1/e==1/n)||e!=e&&n!=n},r=n.useState,o=n.useEffect,a=n.useLayoutEffect,i=n.useDebugValue;function l(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!t(e,r)}catch(e){return!0}}var u="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,n){return n()}:function(e,n){var t=n(),u=r({inst:{value:t,getSnapshot:n}}),d=u[0].inst,c=u[1];return a((function(){d.value=t,d.getSnapshot=n,l(d)&&c({inst:d})}),[e,t,n]),o((function(){return l(d)&&c({inst:d}),e((function(){l(d)&&c({inst:d})}))}),[e]),i(t),t};return A.useSyncExternalStore=void 0!==n.useSyncExternalStore?n.useSyncExternalStore:u,A}():T.exports=(C||(C=1,"production"!==process.env.NODE_ENV&&function(){"undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(new Error);var n=e,t=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function r(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];!function(e,n,r){var o=t.ReactDebugCurrentFrame.getStackAddendum();""!==o&&(n+="%s",r=r.concat([o]));var a=r.map((function(e){return String(e)}));a.unshift("Warning: "+n),Function.prototype.apply.call(console[e],console,a)}("error",e,r)}var o="function"==typeof Object.is?Object.is:function(e,n){return e===n&&(0!==e||1/e==1/n)||e!=e&&n!=n},a=n.useState,i=n.useEffect,l=n.useLayoutEffect,u=n.useDebugValue,d=!1,c=!1;function s(e){var n=e.getSnapshot,t=e.value;try{var r=n();return!o(t,r)}catch(e){return!0}}var _="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,n,t){return n()}:function(e,t,_){d||void 0!==n.startTransition&&(d=!0,r("You are using an outdated, pre-release alpha of React 18 that does not support useSyncExternalStore. The use-sync-external-store shim will not work correctly. Upgrade to a newer pre-release."));var m=t();if(!c){var h=t();o(m,h)||(r("The result of getSnapshot should be cached to avoid an infinite loop"),c=!0)}var p=a({inst:{value:m,getSnapshot:t}}),f=p[0].inst,g=p[1];return l((function(){f.value=m,f.getSnapshot=t,s(f)&&g({inst:f})}),[e,m,t]),i((function(){return s(f)&&g({inst:f}),e((function(){s(f)&&g({inst:f})}))}),[e]),u(m),m},m=void 0!==n.useSyncExternalStore?n.useSyncExternalStore:_;D.useSyncExternalStore=m,"undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(new Error)}()),D);var V=T.exports;const F=()=>{},W=F(),M=Object,P=e=>e===W,I=e=>"function"==typeof e,G=(e,n)=>({...e,...n}),H=new WeakMap;let j=0;const B=e=>{const n=typeof e,t=e&&e.constructor,r=t==Date;let o,a;if(M(e)!==e||r||t==RegExp)o=r?e.toJSON():"symbol"==n?e.toString():"string"==n?JSON.stringify(e):""+e;else{if(o=H.get(e),o)return o;if(o=++j+"~",H.set(e,o),t==Array){for(o="@",a=0;a<e.length;a++)o+=B(e[a])+",";H.set(e,o)}if(t==M){o="#";const n=M.keys(e).sort();for(;!P(a=n.pop());)P(e[a])||(o+=a+":"+B(e[a])+",");H.set(e,o)}}return o},Y=new WeakMap,z={},q={},Z="undefined",J=typeof window!=Z,K=typeof document!=Z,U=(e,n)=>{const t=Y.get(e);return[()=>!P(n)&&e.get(n)||z,r=>{if(!P(n)){const o=e.get(n);n in q||(q[n]=o),t[5](n,G(o,r),o||z)}},t[6],()=>!P(n)&&n in q?q[n]:!P(n)&&e.get(n)||z]};let $=!0;const[Q,X]=J&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[F,F],ee={isOnline:()=>$,isVisible:()=>{const e=K&&document.visibilityState;return P(e)||"hidden"!==e}},ne={initFocus:e=>(K&&document.addEventListener("visibilitychange",e),Q("focus",e),()=>{K&&document.removeEventListener("visibilitychange",e),X("focus",e)}),initReconnect:e=>{const n=()=>{$=!0,e()},t=()=>{$=!1};return Q("online",n),Q("offline",t),()=>{X("online",n),X("offline",t)}}},te=!e.useId,re=!J||"Deno"in window,oe=e=>J&&typeof window.requestAnimationFrame!=Z?window.requestAnimationFrame(e):setTimeout(e,1),ae=re?t:a,ie="undefined"!=typeof navigator&&navigator.connection,le=!re&&ie&&(["slow-2g","2g"].includes(ie.effectiveType)||ie.saveData),ue=e=>{if(I(e))try{e=e()}catch(n){e=""}const n=e;return[e="string"==typeof e?e:(Array.isArray(e)?e.length:e)?B(e):"",n]};let de=0;const ce=()=>++de;var se=3,_e=0,me=2,he=1;async function pe(...e){const[n,t,r,o]=e,a=G({populateCache:!0,throwOnError:!0},"boolean"==typeof o?{revalidate:o}:o||{});let i=a.populateCache;const l=a.rollbackOnError;let u=a.optimisticData;const d=!1!==a.revalidate,c=a.throwOnError;if(I(t)){const e=t,r=[],o=n.keys();for(const t of o)!/^\$(inf|sub)\$/.test(t)&&e(n.get(t)._k)&&r.push(t);return Promise.all(r.map(s))}return s(t);async function s(t){const[o]=ue(t);if(!o)return;const[a,s]=U(n,o),[_,m,h,p]=Y.get(n),f=()=>{const e=_[o];return d&&(delete h[o],delete p[o],e&&e[0])?e[0](2).then((()=>a().data)):a().data};if(e.length<3)return f();let g,v=r;const w=ce();m[o]=[w,0];const y=!P(u),b=a(),x=b.data,E=b._c,k=P(E)?x:E;if(y&&(u=I(u)?u(k,x):u,s({data:u,_c:k})),I(v))try{v=v(k)}catch(e){g=e}if(v&&I(v.then)){if(v=await v.catch((e=>{g=e})),w!==m[o][0]){if(g)throw g;return v}g&&y&&(e=>"function"==typeof l?l(e):!1!==l)(g)&&(i=!0,s({data:k,_c:W}))}if(i&&!g)if(I(i)){const e=i(v,k);s({data:e,error:W,_c:W})}else s({data:v,error:W,_c:W});if(m[o][1]=ce(),Promise.resolve(f()).then((()=>{s({_c:W})})),!g)return v;if(c)throw g}}const fe=(e,n)=>{for(const t in e)e[t][0]&&e[t][0](n)},[ge,ve]=((e,n)=>{if(!Y.has(e)){const t=G(ne,n),r={},o=pe.bind(W,e);let a=F;const i={},l=(e,n)=>{const t=i[e]||[];return i[e]=t,t.push(n),()=>t.splice(t.indexOf(n),1)},u=(n,t,r)=>{e.set(n,t);const o=i[n];if(o)for(const e of o)e(t,r)},d=()=>{if(!Y.has(e)&&(Y.set(e,[r,{},{},{},o,u,l]),!re)){const n=t.initFocus(setTimeout.bind(W,fe.bind(W,r,0))),o=t.initReconnect(setTimeout.bind(W,fe.bind(W,r,1)));a=()=>{n&&n(),o&&o(),Y.delete(e)}}};return d(),[e,o,d,a]}return[e,Y.get(e)[4]]})(new Map),we=G({onLoadingSlow:F,onSuccess:F,onError:F,onErrorRetry:(e,n,t,r,o)=>{const a=t.errorRetryCount,i=o.retryCount,l=~~((Math.random()+.5)*(1<<(i<8?i:8)))*t.errorRetryInterval;!P(a)&&i>a||setTimeout(r,l,o)},onDiscarded:F,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:le?1e4:5e3,focusThrottleInterval:5e3,dedupingInterval:2e3,loadingTimeout:le?5e3:3e3,compare:(e,n)=>B(e)==B(n),isPaused:()=>!1,cache:ge,mutate:ve,fallback:{}},ee),ye=r({}),be=J&&window.__SWR_DEVTOOLS_USE__,xe=be?window.__SWR_DEVTOOLS_USE__:[],Ee=xe.concat((e=>(n,t,r)=>e(n,t&&((...e)=>{const[r]=ue(n),[,,,o]=Y.get(ge);if(r.startsWith("$inf$"))return t(...e);const a=o[r];return P(a)?t(...e):(delete o[r],a)}),r)));be&&(window.__SWR_DEVTOOLS_REACT__=e);const ke=e.use||(e=>{if("pending"===e.status)throw e;if("fulfilled"===e.status)return e.value;throw"rejected"===e.status?e.reason:(e.status="pending",e.then((n=>{e.status="fulfilled",e.value=n}),(n=>{e.status="rejected",e.reason=n})),e)}),Le={dedupe:!0},Oe=(Se=(e,n,t)=>{const{cache:r,compare:o,suspense:a,fallbackData:c,revalidateOnMount:s,revalidateIfStale:_,refreshInterval:m,refreshWhenHidden:h,refreshWhenOffline:p,keepPreviousData:f}=t,[g,v,w,y]=Y.get(r),[b,x]=ue(e),E=i(!1),k=i(!1),L=i(b),O=i(n),S=i(t),N=()=>S.current,C=()=>N().isVisible()&&N().isOnline(),[T,D,R,A]=U(r,b),F=i({}).current,M=P(c)?t.fallback[b]:c,H=(e,n)=>{for(const t in F){const r=t;if("data"===r){if(!o(e[r],n[r])){if(!P(e[r]))return!1;if(!o(Q,n[r]))return!1}}else if(n[r]!==e[r])return!1}return!0},j=l((()=>{const e=!!b&&!!n&&(P(s)?!N().isPaused()&&!a&&(!!P(_)||_):s),t=n=>{const t=G(n);return delete t._k,e?{isValidating:!0,isLoading:!0,...t}:t},r=T(),o=A(),i=t(r),l=r===o?i:t(o);let u=i;return[()=>{const e=t(T());return H(e,u)?(u.data=e.data,u.isLoading=e.isLoading,u.isValidating=e.isValidating,u.error=e.error,u):(u=e,e)},()=>l]}),[r,b]),B=V.useSyncExternalStore(u((e=>R(b,((n,t)=>{H(t,n)||e()}))),[r,b]),j[0],j[1]),z=!E.current,q=g[b]&&g[b].length>0,Z=B.data,J=P(Z)?M:Z,K=B.error,$=i(J),Q=f?P(Z)?$.current:Z:J,X=!(q&&!P(K))&&(z&&!P(s)?s:!N().isPaused()&&(a?!P(J)&&_:P(J)||_)),ee=!!(b&&n&&z&&X),ne=P(B.isValidating)?ee:B.isValidating,ie=P(B.isLoading)?ee:B.isLoading,le=u((async e=>{const n=O.current;if(!b||!n||k.current||N().isPaused())return!1;let r,a,i=!0;const l=e||{},u=!w[b]||!l.dedupe,d=()=>te?!k.current&&b===L.current&&E.current:b===L.current,c={isValidating:!1,isLoading:!1},s=()=>{D(c)},_=()=>{const e=w[b];e&&e[1]===a&&delete w[b]},m={isValidating:!0};P(T().data)&&(m.isLoading=!0);try{if(u&&(D(m),t.loadingTimeout&&P(T().data)&&setTimeout((()=>{i&&d()&&N().onLoadingSlow(b,t)}),t.loadingTimeout),w[b]=[n(x),ce()]),[r,a]=w[b],r=await r,u&&setTimeout(_,t.dedupingInterval),!w[b]||w[b][1]!==a)return u&&d()&&N().onDiscarded(b),!1;c.error=W;const e=v[b];if(!P(e)&&(a<=e[0]||a<=e[1]||0===e[1]))return s(),u&&d()&&N().onDiscarded(b),!1;const l=T().data;c.data=o(l,r)?l:r,u&&d()&&N().onSuccess(r,b,t)}catch(e){_();const n=N(),{shouldRetryOnError:t}=n;n.isPaused()||(c.error=e,u&&d()&&(n.onError(e,b,n),(!0===t||I(t)&&t(e))&&C()&&n.onErrorRetry(e,b,n,(e=>{const n=g[b];n&&n[0]&&n[0](se,e)}),{retryCount:(l.retryCount||0)+1,dedupe:!0})))}return i=!1,s(),!0}),[b,r]),de=u(((...e)=>pe(r,L.current,...e)),[]);if(ae((()=>{O.current=n,S.current=t,P(Z)||($.current=Z)})),ae((()=>{if(!b)return;const e=le.bind(W,Le);let n=0;const t=((e,n,t)=>{const r=n[e]||(n[e]=[]);return r.push(t),()=>{const e=r.indexOf(t);e>=0&&(r[e]=r[r.length-1],r.pop())}})(b,g,((t,r={})=>{if(t==_e){const t=Date.now();N().revalidateOnFocus&&t>n&&C()&&(n=t+N().focusThrottleInterval,e())}else if(t==he)N().revalidateOnReconnect&&C()&&e();else{if(t==me)return le();if(t==se)return le(r)}}));return k.current=!1,L.current=b,E.current=!0,D({_k:x}),X&&(P(J)||re?e():oe(e)),()=>{k.current=!0,t()}}),[b]),ae((()=>{let e;function n(){const n=I(m)?m(T().data):m;n&&-1!==e&&(e=setTimeout(t,n))}function t(){T().error||!h&&!N().isVisible()||!p&&!N().isOnline()?n():le(Le).then(n)}return n(),()=>{e&&(clearTimeout(e),e=-1)}}),[m,h,p,b]),d(Q),a&&P(J)&&b){if(!te&&re)throw new Error("Fallback data is required when using suspense in SSR.");O.current=n,S.current=t,k.current=!1;const e=y[b];if(!P(e)){const n=de(e);ke(n)}if(!P(K))throw K;{const e=le(Le);P(Q)||(e.status="fulfilled",e.value=!0),ke(e)}}return{mutate:de,get data(){return F.data=!0,Q},get error(){return F.error=!0,K},get isValidating(){return F.isValidating=!0,ne},get isLoading(){return F.isLoading=!0,ie}}},function(...e){const n=G(we,o(ye)),[t,r,a]=(e=>I(e[1])?[e[0],e[1],e[2]||{}]:[e[0],null,(null===e[1]?e[2]:e[1])||{}])(e),i=((e,n)=>{const t=G(e,n);if(n){const{use:r,fallback:o}=e,{use:a,fallback:i}=n;r&&a&&(t.use=r.concat(a)),o&&i&&(t.fallback=G(o,i))}return t})(n,a);let l=Se;const{use:u}=i,d=(u||[]).concat(Ee);for(let e=d.length;e--;)l=d[e](l);return l(t,r||i.fetcher||null,i)});var Se;function Ne(e,n){return S(this,void 0,void 0,(function(){return N(this,(function(t){switch(t.label){case 0:return[4,fetch(e,n)];case 1:return[2,t.sent().json()]}}))}))}function Ce(){var n=Oe("https://archive.prozhito.org/api/landing/context/",Ne),r=n.data,o=n.error,a=n.isLoading;return t((function(){if(!a&&(o||!r))throw new Error("500")}),[a]),r?e.createElement(O,{logos:r.logos,main_menu:r.main_menu}):e.createElement("header",null)}export{Ce as ProzhitoHeader};
//# sourceMappingURL=index.js.map
